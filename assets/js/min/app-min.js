"use strict()";function ToggleMenu(e,t){this.menuBtn=e,this.navElem=t,this.navVisible=!1,tSelf=this,this.playhead=new TimelineMax({paused:!0,yoyo:!0}),this.init()}function Service(){this.el=$(".service-overlay"),this.links=$(".services").find(".container").find("a"),this.linkIndex=0,this.playHead=new TimelineMax({paused:!0,yoyo:!0}),this.prevElem=this.el.find(".arrow-left"),this.nextElem=this.el.find(".arrow-right"),this.closeElem=this.el.find(".close"),this.visible=!1,self=this,this.init()}ToggleMenu.prototype.init=function(){var e=this.navElem.innerHeight(),t=this.navElem.find("ul"),i=this.navElem.find("li");this.playhead.set(tSelf.navElem,{height:"0px",overflow:"hidden"}).set(t,{autoAlpha:0}).set(i,{autoAlpha:0}).to(tSelf.navElem,.6,{display:"block",height:e+"px",ease:Expo.easeOut}).to(t,.6,{autoAlpha:1}).staggerTo(i,.6,{autoAlpha:1},.1,"-=1"),this.menuBtn.on("click",this.showHideMenu)},ToggleMenu.prototype.showHideMenu=function(){console.log(tSelf.navVisible),tSelf.navVisible===!1?tSelf.showMenu():tSelf.hideMenu(),tSelf.navVisible=!self.navVisible},ToggleMenu.prototype.showMenu=function(){this.playhead.timeScale(1),this.playhead.play()},ToggleMenu.prototype.hideMenu=function(){this.playhead.timeScale(4),this.playhead.reverse()},Service.prototype.init=function(){var e=this.el.find(".overlay_image"),t=this.el.find(".overlay_text"),i=this.el.find(".overlay_arrows .arrow");this.playHead.set(this.el,{display:"block",xPercent:"100%",autoAlpha:0,onReverseComplete:function(){self.visible=!1,self.resetPlayHead()}}).set(e,{yPercent:"50%",autoAlpha:0}).set(t,{yPercent:"20%",autoAlpha:0}).set(i,{autoAlpha:0}).set(self.closeElem,{autoAlpha:0}).to(".services .container",1,{className:"+=gray"}).to(this.el,1,{xPercent:"0%",autoAlpha:"1",force3D:!0,ease:Expo.easeInOut}).to(e,.8,{yPercent:"0%",autoAlpha:"1",force3D:!0,ease:Expo.easeOut}).to(t,1,{yPercent:"0%",autoAlpha:"1",force3D:!0,ease:Expo.easeOut}).staggerTo(i,1,{autoAlpha:1,force3D:!0,ease:Power4.easeOut},.5).to(self.closeElem,.3,{autoAlpha:"1",force3D:!0,ease:Quad.easeOut},1),this.nextElem.on("click",function(){self.next()}),this.prevElem.on("click",function(){self.prev()}),this.closeElem.on("click",function(){self.playHead.timeScale(3),self.close()})},Service.prototype.prev=function(){this.setIndex(this.linkIndex-1),this.load("",this.linkIndex)},Service.prototype.next=function(){this.setIndex(this.linkIndex+1),console.log(parseInt(this.linkIndex+1)),this.load("",parseInt(this.linkIndex))},Service.prototype.close=function(){this.playHead.reverse()},Service.prototype.isVisible=function(){return this.visible},Service.prototype.show=function(){this.isVisible()||(this.playHead.play(),this.visible=!0)},Service.prototype.resetPlayHead=function(){this.playHead.timeScale(1)},Service.prototype.setIndex=function(e){var t=this.links.length;this.linkIndex=0>e?t-1:e>t-1?0:e},Service.prototype.load=function(e,t){this.setIndex(e?e.index():t),$elem=this.links.parent().find("a:eq("+this.linkIndex+")"),this.isVisible()||self.show(),this.setIndex($elem.index());var i=$elem.attr("href");$.ajax({url:i}).done(function(e){self.replaceContent(e)})},Service.prototype.replaceContent=function(e){$(".overlay_image").find(".col").fadeOut(500,function(){$(this).html('<img src="'+e.image+'" alt="'+e.title+'">').fadeIn()}),$(".overlay_text_main_heading").fadeOut(500,function(){$(this).html(e.title).fadeIn()}),$(".overlay_text_main_body").fadeOut(500,function(){$(this).html(e.text).fadeIn()})},$(document).ready(function(){var e,t,i,n,l;if(e=$(".menu"),t=$(".nav"),n=$(".home-banners"),i=new ToggleMenu(e,t),l=$(".services .item"),l.length>0)var s=new Service;l.each(function(){$(this).on("click",function(e){var t=$(this);TweenMax.to("body",1,{scrollTop:$(".services").offset().top,ease:Expo.easeInOut,onComplete:function(){s.load(t)}}),e.preventDefault()})})}),$(window).load(function(){var e=$(".home-banners");try{e.cycle({speed:600,manualSpeed:300,delay:5,fx:"fade",swipe:!0,pauseOnHover:!0,prev:".arrow-left",next:".arrow-right"})}catch(t){console.log(t)}e.length>0&&e.animate({height:e.get(0).scrollHeight},1e3)});